{"title":"De Olho na Constituinte","markdown":{"yaml":{"title":"De Olho na Constituinte","format":"html","editor":"visual","website":{"navbar":{"background":"primary","search":true,"right":[{"text":"Home"}]}}},"headingText":"Pacotes e versões utilizadas","containsRefs":false,"markdown":"\n\n```{r echo = FALSE}\nknitr::opts_chunk$set(warning = FALSE, message = FALSE)\n```\n\nA Assembleia Constituinte de 1987 teve a responsabilidade de elaborar uma nova Constituição Federal para substituir a que havia sido instaurada durante a ditadura militar (1964-1985). Os seus membros foram eleitos durante as eleições gerais de 1986, seguindo o modelo de Congresso Constituinte, que difere de uma Constituinte Exclusiva, em que os representantes são eleitos com o propósito específico de elaborar a constituição. Assim, os membros da Assembleia Constituinte acumularam a função de congressistas e constituintes, permanecendo em seus cargos após o término da elaboração da nova Constituição.\n\n\n```{r}\n# R version: 4.2.2\n\nlibrary(geobr) #Version: 1.7.0\nlibrary(sf) #Version: 1.0-9\nlibrary(leaflet) #Version: 2.1.1\nlibrary(rvest) #Version: 1.0.3\nlibrary(stringr) #Version: 1.5.0\nlibrary(dplyr) #Version: 1.0.10\nlibrary(readr) #Version: 2.1.3\nlibrary(tidyr) #Version: 1.2.1\nlibrary(ggplot2) #Version: 3.4.0\nlibrary(tidyverse) #Version: 1.3.2\nlibrary(plotly) #Version 4.10.1\nlibrary(devtools) #Version 2.4.5\nlibrary(reactable) #Version 0.4.3\nlibrary(ggparliament) #Version 2.0.0\nlibrary(bbplot) #Version 0.2\n```\n\n# Banco de Dados\n\nForam utilizados nesse projeto dois banco de dados, construídos pelo autor através dos dados obtidos no site oficial da [Câmara dos Deputados](https://www2.camara.leg.br/atividade-legislativa/legislacao/Constituicoes_Brasileiras/constituicao-cidada/constituintes/constituintes). Os banco de dados encontram-se disponíveis para uso no [GitHub](https://github.com/lucassesouza/de-olho-na-constituinte-codigo).\n\n## Construindo o BD Parlamento Constituinte (1987-1988)\n\n> O Parlamento Constituinte embarca tantos os deputados federais quanto os senadores, pois todos participaram dos processos de tomada de decisão durante a Assembleia Constituinte. Porém, para proporcionar a realização de um maior número de análises, é possível diferenciálos a partir da variável `Cargo_Legislativo` .\n\n~As informações foram obtidas por web scraping através das seguintes páginas: [deputados](https://www2.camara.leg.br/atividade-legislativa/legislacao/Constituicoes_Brasileiras/constituicao-cidada/constituintes/parlamentaresconstituintes/deputados-constituintes) e [senadores](https://www2.camara.leg.br/atividade-legislativa/legislacao/Constituicoes_Brasileiras/constituicao-cidada/constituintes/parlamentaresconstituintes/senadores-constituintes).~\n\n```{r}\n\n# Web scraping dos senadores constituintes\nsite_senadores = read_html(\"https://www2.camara.leg.br/atividade-legislativa/legislacao/Constituicoes_Brasileiras/constituicao-cidada/constituintes/parlamentaresconstituintes/senadores-constituintes\")\n\nsenadores_constituintes = site_senadores %>% \n  html_element(\"#content-core\") %>% \n  html_text() %>% \n  str_split(\"\\\\d+\\\\.\", simplify = TRUE) %>% \n  t() %>% \n  gsub(\"\\\\n*\", \"\", .) %>%\n  as.data.frame() %>% \n  slice(-1)\n\nsenadores_constituintes$Cargo_Legislativo = rep(\"Senador\")\n\n# Web scraping dos deputados constituintes\nsite_deputados = read_html(\"https://www2.camara.leg.br/atividade-legislativa/legislacao/Constituicoes_Brasileiras/constituicao-cidada/constituintes/parlamentaresconstituintes/deputados-constituintes\")\n\ndeputados_constituintes = site_deputados %>% \n  html_element(\"#content-core\") %>% \n  html_text() %>% \n  str_split(\"\\\\d+\\\\.\", simplify = TRUE) %>% \n  t() %>% \n  gsub(\"\\\\n*\", \"\", .) %>%\n  as.data.frame() %>% \n  slice(-1)\n\ndeputados_constituintes$Cargo_Legislativo = rep(\"Deputado\")\n\n# Juntando em um unico data frame os dados dos deputados e senadores constituintes\nparlamentares_constituintes = bind_rows(deputados_constituintes, senadores_constituintes)\n\n## limpando e formatando os dados\nparlamentares_constituintes = parlamentares_constituintes %>% \n  mutate(Parlamentar = str_extract(parlamentares_constituintes$V1, \"(.*?)-\")) %>% \n  mutate(Partido = str_extract(parlamentares_constituintes$V1, \"-(.*?)/\")) %>%\n  mutate(UF = str_extract(parlamentares_constituintes$V1, \"/(.*?) \")) %>%\n  mutate(Parlamentar = gsub(\"[^[:alnum:][:space:]]\", \"\", Parlamentar)) %>%\n  mutate(Partido = gsub(\"[^[:alnum:]]\", \"\", Partido)) %>%\n  mutate(UF = gsub(\"[^[:alnum:]]\", \"\", UF)) %>%\n  select(-V1) %>%\n  select(Parlamentar, Cargo_Legislativo, Partido, UF)\n\nparlamentares_constituintes$Parlamentar = str_trim(parlamentares_constituintes$Parlamentar)\n\n### atribuindo e alterando informações faltantes ou erradas a alguns deputados\nparlamentares_constituintes = parlamentares_constituintes %>% \n  mutate(UF = case_when(\n    Parlamentar == \"AÉCIO DE BORDA\" ~ \"CE\",\n    Parlamentar == \"AÉCIO NEVES\" ~ \"MG\",\n    Parlamentar == \"FLÁVIO ROCHA\" ~ \"RN\",\n    Parlamentar == \"FRANCISCO AMARAL\" ~ \"SP\",\n    Parlamentar == \"MALULY NETTO\" ~ \"SP\",\n    Parlamentar == \"MARCELO CORDEIRO\" ~ \"BA\",\n    Parlamentar == \"MATTOS LEÃO\" ~ \"PR\",\n    Parlamentar == \"MAURÍCIO FRUET\" ~ \"PR\",\n    Parlamentar == \"MAX ROSENMANN\" ~ \"PR\",\n    Parlamentar == \"MELLO REIS\" ~ \"MG\",\n    Parlamentar == \"MELO FREIRE\" ~ \"MG\",\n    Parlamentar == \"MENDES BOTELHO\" ~ \"SP\",\n    Parlamentar == \"MOYSÉS PIMENTEL\" ~ \"CE\",\n    Parlamentar == \"MUSSA DEMES\" ~ \"PI\",\n    Parlamentar == \"NELSON SEIXAS\" ~ \"SP\",\n    Parlamentar == \"FELIPE MENDES\" ~ \"PI\",\n    Parlamentar == \"DÉLIO BRAZ\" ~ \"GO\",\n    Parlamentar == \"DARCY POZZA\" ~ \"RS\",\n    Parlamentar == \"WILSON MARTINS\" ~ \"MS\",\n    Parlamentar == \"JORGE BORNHAUSEN\" ~ \"SC\",\n    Parlamentar == \"HUGO NAPOLEÃO\" ~ \"PI\",\n    Parlamentar == \"CHAGAS RODRIGUES\" ~ \"PI\",\n    Parlamentar == \"ÁLVARO PACHECO\" ~ \"PI\",\n    TRUE ~ as.character(UF)\n  )) %>%\n  mutate(Partido = case_when(\n    Parlamentar == \"CARLOS VIRGÍLIOPDS\" ~ \"PDS\",\n    Parlamentar == \"DIONÍSIO DAL\" ~ \"PFL\",\n    TRUE ~ as.character(Partido)\n  )) %>%\n  mutate(Parlamentar = case_when(\n    Parlamentar == \"CARLOS VIRGÍLIOPDS\" ~ \"CARLOS VIRGÍLIO\",\n    Parlamentar == \"DIONÍSIO DAL\" ~ \"DIONÍSIO DAL-PRÁ\",\n    TRUE ~ as.character(Parlamentar)\n  ))\n\n# Atribuindo genero aos parlamentares através do pacote \"genderBR\"\nparlamentares_constituintes = parlamentares_constituintes %>%\n  mutate(Genero = genderBR::get_gender(parlamentares_constituintes$Parlamentar, threshold = 0.7))\n\n## alguns nomes não tiveram atribuições ou estavam incorretas\n### adicionando e concertando as atribuicoes feitas pelo pacote genderBR\nparlamentares_constituintes = parlamentares_constituintes %>%\n  mutate(Genero = case_when(\n    Parlamentar %in% c(\"MEIRA FILHO\", \"AGASSIZ ALMEIDA\", \"ALAIR FERREIRA\", \"ALCENI GUERRA\",\t\"BOCAYUVA CUNHA\", \"CARREL BENEVIDES\",\t\"COSTA FERREIRA\",\t\"CUNHA BUENO\", \"DARCY DEITOS\", \"DARCY POZZA\",\t\"DASO COIMBRA\",\t\"DORETO CAMPANARI\",\t\"EDME TAVARES\",\t\"FADAH GATTASS\",\t\"FARABULINI JÚNIOR\",\t\"FLORICENO PAIXÃO\",\t\"FRANÇA TEIXEIRA\",\t\"ITURIVAL NASCIMENTO\",\t\"JACY SCANAGATTA\",\t\"KOYU IHA\",\t\"LYSÂNEAS MACIEL\",\t\"MAGUITO VILELA\",\t\"MALULY NETTO\",\t\"NAPHTALI ALVES DE SOUZA\",\t\"NION ALBERNAZ\",\t\"NYDER BARBOSA\",\t\"PAES DE ANDRADE\",\t\"PAES LANDIM\",\t\"PIMENTA DA VEIGA\",\t\"ROSÁRIO CONGRO NETO\", \"ROSPIDE NETTO\",\t\"SIGMARINGA SEIXAS\", \"TIDEI DE LIMA\",\t\"ULDURICO PINTO\",\t\"VINGT ROSADO\",\t\"VIRGILDÁSIO DE SENNA\",\t\"LEITE CHAVES\", \"LOUREMBERG NUNES ROCHA\", \"ROSA PRATA\", \"ZIZA VALADARES\"\n              ) ~ \"Male\",\n    Parlamentar == \"SADIE HAUACHE\" ~ \"Female\",\n    TRUE ~ as.character(Genero)\n  ))\n\n### traduzindo os termos \"Male\" e \"Female\"\nparlamentares_constituintes = parlamentares_constituintes %>%\n  mutate(Genero = case_when(\n    Genero %in% \"Male\" ~ \"Homem\",\n    Genero %in% \"Female\" ~ \"Mulher\"\n  ))\n\n# Adicionando os cargos dos integrantes da mesa diretora\nparlamentares_constituintes = parlamentares_constituintes %>%\n  mutate(MesaDiretora = case_when(\n    Parlamentar %in% \"ULYSSES GUIMARÃES\" ~ \"Presidente\",\n    Parlamentar %in% \"MAURO BENEVIDES\" ~ \"1º Vice-Presidente\",\n    Parlamentar %in% \"JORGE ARBAGE\" ~ \"2º Vice-Presidente\",\n    Parlamentar %in% \"MARCELO CORDEIRO\" ~ \"1º Secretário\",\n    Parlamentar %in% \"MÁRIO MAIA\" ~ \"2º Secretário\",\n    Parlamentar %in% \"ARNALDO FARIA DE SÁ\" ~ \"3º Secretário\",\n    Parlamentar %in% \"BENEDITA DA SILVA\" ~ \"Suplente\",\n    Parlamentar %in% \"LUIZ SOYER\" ~ \"Suplente\",\n    Parlamentar %in% \"SOTERO CUNHA\" ~ \"Suplente\",\n    TRUE ~ as.character(\"Sem cargo\")\n  ))\n\nparlamentares_constituinte = parlamentares_constituintes %>%\n  mutate(Parlamentar = str_to_title(Parlamentar))\n```\n\n## Abrindo o Banco de Dados das Comissões e Subcomissões\n\n| Esse banco de dados foi construído direto no excel\n\n```{r}\n# abrindo o banco de dados a partir de uma planilha do excel\ncomissoes_constituinte = readxl::read_excel(\"data/integrantes-comissoes.xlsx\")\n```\n\n# Conhecendo o Parlamento Constituite (1987-1988)\n\nVeja alguma das características dos deputados e senadores responsáveis por debater e desenvolver a Constituição Federal de 1988.\n\n## Representação Partidária\n\nNúmero de parlamentares de cada partido que integrou a Assembleia Constituinte.\n\n```{r}\n# Agrupando os partidos pelo número de parlamentares\ncontagem_partidos = parlamentares_constituinte %>% \n  group_by(Partido) %>% \n  count() %>%  \n  arrange(desc(n))\n\ncontagem_partidos %>%\n  select(Partido, n) %>%\n  reactable(searchable = TRUE,\n            pagination = FALSE,\n            fullWidth = TRUE,\n            height = 400,\n            width = 600,\n            striped = TRUE,\n            columns = list(n = colDef(name = \"Número de parlamentares\")))\n```\n\n```{r}\n## Fazendo um gráfico parlamentar com o pacote ggparliament\n# Atribuindo cor aos partidos \ncontagem_partidos = contagem_partidos %>%\n  mutate(Cor = case_when(\n    Partido == \"PMDB\" ~ \"blue\",\n    Partido == \"PFL\" ~ \"lightseagreen\",\n    Partido == \"PDS\" ~ \"midnightblue\",\n    Partido == \"PDT\" ~ \"darkolivegreen\",\n    Partido == \"PTB\" ~ \"magenta\",\n    Partido == \"PT\" ~ \"red\",\n    Partido == \"PL\" ~ \"darkseagreen4\",\n    Partido == \"PSDB\" ~ \"tomato\",\n    Partido == \"PDC\" ~ \"limegreen\",\n    Partido == \"PCB\" ~ \"gold\",\n    Partido == \"PCdoB\" ~ \"mediumorchid4\",\n    Partido == \"PSB\" ~ \"mediumspringgreen\",\n    Partido == \"PMB\" ~ \"palevioletred4\",\n    Partido == \"PMD\" ~ \"darkgreen\",\n    Partido == \"PSC\" ~ \"gray\"\n  ))\n\n# Construindo gráfico parlamentar com o uso do ggparliament\ncoordenadas_parlamento = parliament_data(\n  election_data = contagem_partidos, \n  type = \"semicircle\", \n  parl_rows = 7, \n  party_seats = contagem_partidos$n)\n\nplot_parlamento_partido = coordenadas_parlamento %>% \n  ggplot(aes(x = x, y = y, colour = Partido, text = paste0(\"Partido: \", coordenadas_parlamento$Partido, \"\\nNúmero de parlamentares: \", coordenadas_parlamento$n))) +\n  ggparliament::geom_parliament_seats(size = 2)\n\nplot_parlamento_partido = plot_parlamento_partido + \n  bbplot::bbc_style() + \n  ggtitle(\"Composição Partidária do Parlamento Constituinte 1987-1988\") +\n  theme(plot.title = element_text(hjust = 0.55, size = 14),\n        axis.text.x = element_blank(),\n        axis.text.y = element_blank()) +\n  scale_colour_manual(values = coordenadas_parlamento$Cor,\n                      limits = coordenadas_parlamento$Partido)\n\nplot_parlamento_partido\n```\n\n## Composição parlamentar por gênero\n\nQuantidade de homens e mulheres na composição do Parlamento Constituinte.\n\n```{r}\n# Agrupando os parlamentares por genero\ncomposicao_genero = parlamentares_constituinte %>%\n  group_by(Genero) %>%\n  count() \n\n# Criando o gráfico\ncomposicao_genero %>%\n  ggplot(aes(x = \"\", y = n, fill = Genero, label = n)) +\n  geom_bar(stat = \"identity\", width = 0.3) +\n  coord_flip() +\n  ggtitle(\"Número de Parlamentares Constituintes Homens e Mulheres\") + \n  theme(plot.title = element_text(size = 1, face = \"bold\")) +\n  geom_text(color = \"white\", size = 5, position = position_stack(vjust = 0.5)) +\n  scale_fill_manual(values = c(\"orange\", \"blue\"), name = \"Gênero\", breaks = c(\"Mulher\", \"Homem\")) +\ntheme_void()\n```\n\n## Presença de representantes das Unidades Federativas no Parlamento\n\nQuantidade de parlamentares constituintes por Unidade Federativa[^1].\n\n[^1]: O Estado de Tocantins foi instalado somente em 1989.\n\n| clique no estado para visualizar os parlamentares e partidos.\n\n```{r}\ncomposicao_uf = parlamentares_constituinte %>%\n  group_by(UF) %>%\n  count()\n\nparlamentares_uf = parlamentares_constituinte %>%\n  group_by(UF) %>%\n  summarize(parlamentares = paste0(unique(Parlamentar), collapse = \", \"),\n            partidos = paste0(unique(Partido), collapse = \", \"))\n\nmapa = read_state(showProgress = FALSE) %>%\n  dplyr::rename(UF = abbrev_state)\n\nmapa = mapa %>%\n  left_join(composicao_uf, by = \"UF\") %>%\n  left_join(parlamentares_uf, by = \"UF\") %>%\n  na.omit()\n\n# Cria o mapa\nleaflet(data = mapa) %>%\n   setView(lng = -50, lat = -15, zoom = 4) %>%\n  addPolygons(fillColor = ~colorNumeric(palette = \"YlGn\", domain = mapa$n)(n),\n              fillOpacity = 0.8,\n              color = \"#BDBDBD\",\n              weight = 1,\n              highlight = highlightOptions(\n                weight = 2,\n                color = \"#666\",\n                fillOpacity = 0.7,\n                bringToFront = TRUE),\n              label = ~paste0(UF, \": \", n),\n              popup = paste0(\"UF: \", mapa$UF,\n                           \"<br>Parlamentares: \", mapa$parlamentares,\n                           \"<br>Partidos: \", mapa$partidos)) %>%\n  addLegend(\"bottomright\",\n            title = \"Quantidade de Parlamentares\",\n            pal = colorNumeric(palette = \"YlGn\", domain = mapa$n),\n            values = mapa$n,\n            opacity = 0.8)\n```\n\n## Integrantes da Mesa Diretora\n\nA Mesa Diretora organizava os trabalhos da Assembleia Constituinte, seus integrantes foram eleitos pela própria Assembleia.\n\n```{r}\n# Ordenando os cargos\nordem_cargos = c(\"Presidente\", \"1º Vice-Presidente\", \"2º Vice-Presidente\", \n                  \"1º Secretário\", \"2º Secretário\", \"3º Secretário\", \n                  \"Suplente\")\n\n# Criando uma tabela\nparlamentares_constituinte %>%\n  select(Parlamentar, Cargo_Legislativo, Partido, MesaDiretora) %>%\n  filter(MesaDiretora != \"Sem cargo\") %>%\n  mutate(MesaDiretora = factor(MesaDiretora, levels = ordem_cargos))%>%\n  arrange(MesaDiretora) %>%\n  rename(\"Mesa Diretora\" = MesaDiretora, \"Cargo Legislativo\" = Cargo_Legislativo) %>%\n  reactable(pagination = FALSE, \n            height = 350,\n            width = 600,\n            fullWidth = TRUE,\n            striped = TRUE)\n```\n\n## Parlamentares Constituintes\n\nVeja todos os deputados e senadores que participaram da Assembleia Constituinte\n\n```{r}\nparlamentares_constituinte %>%\n  select(Parlamentar, Cargo_Legislativo, Partido, MesaDiretora) %>%\n  reactable(filterable = TRUE, \n            pagination = FALSE, \n            height = 400,\n            width = 600,\n            fullWidth = TRUE,\n            striped = TRUE,\n            columns = list(\n              Cargo_Legislativo = colDef(name = \"Cargo Legislativo\"),\n              MesaDiretora = colDef(name = \"Mesa Diretora\")))\n\n```\n\n# Comissões e Subcomissões Temáticas\n\nOs trabalhos da Assembleia Constituinte foram divididos em 24 subcomissões temáticas, pertencentes a 8 comissões temáticas. Detalhes sobre as atas e documentos das comissões e subcomissões podem ser encontrados [aqui](https://www2.camara.leg.br/atividade-legislativa/legislacao/Constituicoes_Brasileiras/constituicao-cidada/o-processo-constituinte/lista-de-comissoes-e-subcomissoes):\n\n## Comissões e número de integrantes\n\n```{r}\ncomissao_n_integrantes = comissoes_constituinte %>%\n  group_by(Comissao) %>%\n  count()\n\nplot_comissao = ggplot(comissao_n_integrantes, aes(x = reorder(Comissao, n), y= n, text = paste0(Comissao, \"\\n Número de integrantes: \", n), fill = Comissao)) +\n  geom_bar(stat = \"identity\", width = 0.5) +\n  coord_flip() +\n  scale_x_discrete(labels = function(x) str_wrap(x, width = 45)) +\n  ggtitle(\"Número de Integrantes por Comissão\") +\n  xlab(\"Comissão\") +\n  ylab(\"Número de Integrantes\") +\n  theme_classic() +\n  theme(legend.position = \"none\",\n        plot.background = element_rect(fill = \"transparent\", color = NA))\n\nggplotly(plot_comissao, tooltip = c(\"text\")) %>%\n  layout(barmode = \"stack\",\n         paper_bgcolor = \"transparent\",\n         plot_bgcolor = \"transparent\") %>%\n  config(modeBarButtonsToRemove = c(\"zoomIn2d\", \"zoomOut2d\", \"pan2d\", \"zoom2d\", \"select2d\", \"lasso2d\", \"autoScale2d\"))  \n\n```\n\n## Subcomissões e número de integrantes\n\n```{r}\nsubcomissao_n_integrantes = comissoes_constituinte %>%\n  group_by(Subcomissao) %>%\n  count() %>%\n  na.omit\n\nsubcomissao_n_integrantes$Subcomissao = str_replace_all(subcomissao_n_integrantes$Subcomissao, \"Subcomissão \", \"\")\n\nplot_subcomissao = ggplot(subcomissao_n_integrantes, aes(x = reorder(Subcomissao, n), y = n, text = paste0(Subcomissao, \"<br>Número de Integrantes: \", n), fill = Subcomissao)) +\n  geom_bar(stat = \"identity\", width = 0.8) +\n  coord_flip() +\n  scale_x_discrete(labels = function(x) str_wrap(x, width = 60)) +\n  ggtitle(\"Número de Integrantes por Subcomissão\") +\n  xlab(\"Subcomissão\") +\n  ylab(\"Número de Integrantes\") +\n  theme_test() +\n  theme(legend.position = \"none\",\n        axis.text.x = element_text(size = 10),\n        axis.text.y = element_text(size = 6),\n        axis.ticks.y = element_blank(),\n        plot.title = element_text(size = 11, face = \"bold\"),\n        plot.background = element_rect(fill = \"transparent\", color = NA))\n\nggplotly(plot_subcomissao, tooltip = c(\"text\")) %>%\n  layout(barmode = \"stack\",\n         paper_bgcolor = \"transparent\",\n         plot_bgcolor = \"transparent\") %>%\n  config(modeBarButtonsToRemove = c(\"zoomIn2d\", \"zoomOut2d\", \"pan2d\", \"zoom2d\", \"select2d\", \"lasso2d\", \"autoScale2d\"))\n\n```\n\n# Discursos\n\nSegundo a Câmara dos Deputados, os parlamentares constituintes realizaram 19.089 intervenções verbais, dentre elas discursos, intervenções, encaminhamentos, etc.\n\n> Veja aqui uma wordcloud de algum dos discursos que marcaram a Assembleia Constituinte. Através desse recurso é possível analisar a temática e ênfase das falas, bem como comparar entre os parlamentares.\n\n```{r}\n# Lendo o PDF dos discursos\n\n## Ulysses\npdf_discurso_ulysses = textreadr::read_document(\"data/discursos/Ulysses Guimaraes.pdf\")\nwriteLines(pdf_discurso_ulysses, \"data/discursos/Ulysses Guimaraes.txt\")\n\n## Lula\npdf_discurso_lula = textreadr::read_document(\"data/discursos/Luiz Inacio.pdf\")\nwriteLines(pdf_discurso_lula, \"data/discursos/Luiz Inacio.txt\")\n\n## Ailton Krenak\npdf_discurso_krenak = textreadr::read_document(\"data/discursos/Ailton Krenak.pdf\")\nwriteLines(pdf_discurso_krenak, \"data/discursos/Ailton Krenak.txt\")\n\n# Criando um único token a partir dos 3 discursos\ntxt_discursos = readtext::readtext(c(\"data/discursos/Ailton Krenak.txt\", \"data/discursos/Luiz Inacio.txt\", \"data/discursos/Ulysses Guimaraes.txt\"))\n\ntok_discursos = txt_discursos %>%\n  tidytext::unnest_tokens(word, text)\n\n## Limpando os dados\n### eliminando stopwords\nstop_w = tibble(word = quanteda::stopwords(source = \"stopwords-iso\", language = \"pt\"))\n\ntok_discursos = tok_discursos %>%\n anti_join(stop_w)\n\n## Corpus\ncorp_discursos = quanteda::corpus(txt_discursos)\n\ntoks = quanteda::tokens(corp_discursos, remove_punct = TRUE, remove_numbers = TRUE)\ntoks = quanteda::tokens_select(toks, pattern = quanteda::stopwords(\"pt\"), selection = \"remove\")\ntoks = quanteda::tokens_remove(toks, pattern = c(\"palmas\", \"é\", \"vai\", \"srs\", \"senhores\"))\n\n## construindo DFM\ndfmat = quanteda::dfm(toks)\n\ndfm_krenak = quanteda::dfm_subset(dfmat, subset = docid_ %in% \"Ailton Krenak.txt\")\n\ndfm_lula = quanteda::dfm_subset(dfmat, subset = docid_ %in% \"Luiz Inacio.txt\")\n\ndfm_ulysses = quanteda::dfm_subset(dfmat, subset = docid_ %in% \"Ulysses Guimaraes.txt\")\n```\n\n## Lula\n\nRazões do voto contrário do Partido dos Trabalhadores ao Projeto de Constituição, realizado em 22 de setembro de 1988.\n\n```{r}\n# definindo cores\ncores = c(\"#0072B2\", \"#E69F00\", \"#F0E442\", \"#009E73\", \"#D55E00\", \"#CC79A7\")\n\n# gerando nuvem de palavras\nwordcloud2 = quanteda.textplots::textplot_wordcloud(dfm_lula,\n                   max.words = 100,\n                   random.order = FALSE,\n                   color = cores,\n                   rot.per = 0.2,\n                   random.color = TRUE)\n```\n\n## Ulysses Guimarães\n\nPronunciamento favorável a promulgação da nova constituição, realizado em 05/10/1988.\n\n```{r}\n# gerando nuvem de palavras\nwordcloud3 = quanteda.textplots::textplot_wordcloud(dfm_ulysses,\n                   max.words = 100,\n                   random.order = FALSE,\n                   color = cores,\n                   rot.per = 0.2,\n                   random.color = TRUE)\n```\n\n## Ailton Krenak\n\nA participação na Assembleia Constituinte não se limitou aos parlamentares, membros da sociedade civil também tiveram presença no processo. Ailton Krenak, filósofo e líder indígena, proferiu um discurso-protesto em defesa dos direitos dos povos indígenas, realizado em 04 de setembro de 1987.\n\n```{r}\n# gerando nuvem de palavras\nwordcloud1 = quanteda.textplots::textplot_wordcloud(dfm_krenak,\n                   max.words = 100,\n                   random.order = FALSE,\n                   color = cores,\n                   rot.per = 0.2,\n                   random.color = TRUE)\n```\n\nObrigado por ver até aqui! 😉\n\n# Referências\n\n<https://www2.camara.leg.br/atividade-legislativa/legislacao/Constituicoes_Brasileiras/constituicao-cidada>\n\n<https://rforpoliticalscience.com/2023/01/19/how-to-create-semi-circle-parliament-graphs-with-the-ggparliament-package-in-r/>\n\n<https://selvagemciclo.com.br/wp-content/uploads/2021/07/CADERNO27_CONSTITUINTE.pdf>\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"index.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.313","editor":"visual","theme":"flatly","title":"De Olho na Constituinte"},"extensions":{"book":{"multiFile":true}}}}}